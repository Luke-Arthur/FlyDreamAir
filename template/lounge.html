<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FlyDreamAir Members Lounge</title>
    <link
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Arial", sans-serif;
        background-color: #f3f3f3;
        padding: 20px;
      }

      .header {
        background-color: #003366;
        color: white;
        padding: 20px;
        text-align: center;
        border-radius: 10px;
        margin-bottom: 20px;
      }

      .main-content {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-bottom: 20px;
      }

      .section {
        background-color: white;
        border: 1px solid #ddd;
        border-radius: 10px;
        padding: 20px;
      }

      .support {
        background-color: white;
        border: 1px solid #ddd;
        border-radius: 10px;
        padding: 20px;
        text-align: center;
      }

      .contact-button {
        background-color: #003366;
        color: white;
        padding: 10px 20px;
        text-decoration: none;
        display: inline-block;
        border-radius: 5px;
      }

      .shop {
        background-color: #e8f6ff;
        text-align: center;
        padding: 30px;
      }

      .shop h2 {
        color: #003366;
        margin-bottom: 20px;
        font-size: 24px;
      }

      .shop p {
        margin-bottom: 20px;
        font-size: 18px;
      }

      .shop a.contact-button {
        padding: 15px 30px;
        font-size: 18px;
        transition: transform 0.2s;
      }

      .shop a.contact-button:hover {
        transform: scale(1.05);
      }

      #profilePic {
        width: 100px;
        border-radius: 50%;
        margin-right: 20px;
        display: none;
        float: left;
      }

      #feedbackStatus {
        color: green;
        display: none;
      }

      .welcome-container {
        display: flex;
        justify-content: space-between;
        width: 100%;
        align-items: center;
      }

      /* Optional: Remove auto margins from navbar-nav */
      .navbar-nav.ml-auto {
        margin-left: 0;
      }

      .navbar {
        background-color: #003366;
        color: white;
        padding: 20px;
        text-align: center;
        border-radius: 10px;
        margin-bottom: 20px;
      }

     .nav-link{
        color: white;
     }

    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg">
      <div class="welcome-container">
        <h2 id="welcomeMessage"></h2>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item active">
              <a class="nav-link" href="../index.html"> Home </a>
            </li>
            <li class="nav-item active">
               <a class="nav-link" href="javascript:void(0)" onclick="logout()"> logout </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <!-- Header Section -->
    <div class="header">
      <div style="position: absolute; left: auto" id="logo">
        <a class="navbar-brand" href="../index.html">
          <img alt="FlyDreamAir Logo" src="../src/FDA.jpg" />
        </a>
      </div>
      <h1>Welcome to FlyDreamAir Members Lounge</h1>
    </div>

    <!-- Profile Picture Uploader -->
    <div class="section profile">
      <img id="profilePic" src="#" alt="Member Profile Picture" />
      <input type="file" id="imageUpload" style="display: none" />
      <label for="imageUpload" class="contact-button" style="cursor: pointer"
        >Upload Profile Picture</label
      >
      <div style="clear: both"></div>
    </div>

    <!-- Main Content Area -->
    <div class="main-content">
      <!-- Rewards Section -->
      <div class="section rewards">
        <h2>List of Rewards</h2>
        <p>
          Enjoy up to 20% off on international flights, priority boarding, and
          free seat selection for Gold Members.
        </p>
      </div>

      <!-- Account Details Section -->
      <div class="section account">
        <h2>Account Details</h2>
        <p>
          Member ID: FD12345<br />Points Balance: 10,000<br />Status: Gold
          Member
        </p>
      </div>

      <!-- Exclusive Content Section -->
      <div class="section content">
        <h2>Exclusive Content</h2>
        <p>
          Discover our travel guide to Bali, exclusive for FlyDreamAir members.
        </p>
      </div>

      <!-- Notifications Section -->
      <div class="section notifications">
        <h2>Notifications</h2>
        <p>
          You've earned 500 points from your last flight! Keep flying with us to
          earn more.
        </p>
      </div>

      <!-- Redemption Options Section -->
      <div class="section">
        <h2>Redeem Your Loyalty Points</h2>
        <p>Choose from the following redemption options:</p>
        <div class="list-group">
          <a class="list-group-item list-group-item-action" href="#">
            Flight Bookings
          </a>
          <a class="list-group-item list-group-item-action" href="#">
            Seat Upgrades
          </a>
          <a class="list-group-item list-group-item-action" href="#">
            Partner Deals
          </a>
        </div>
      </div>

      <!-- Shop & Claim Section -->
      <div class="section shop">
        <h2>Shop & Claim Rewards!</h2>
        <p>
          Did you know shopping on our exclusive products page can earn you
          extra reward points? Dive into a curated range of travel accessories,
          gadgets, and more!
        </p>
        <a href="catalogue.html" class="contact-button">Explore Products</a>
      </div>
    </div>

    <!-- Feedback Submission -->
    <div class="section feedback">
      <h2>Your Feedback Matters</h2>
      <p>Have suggestions or feedback? Let us know!</p>
      <textarea
        id="feedbackBox"
        placeholder="Type your feedback here..."
        rows="4"
        style="width: 100%; padding: 10px; margin-bottom: 10px"
      ></textarea>
      <button class="contact-button" onclick="saveFeedback()">
        Submit Feedback
      </button>
      <p id="feedbackStatus">Thank you for your feedback!</p>
    </div>

    <!-- Support Section -->
    <div class="support" id="contact">
      <h2>Contact Support</h2>
      <p>If you need assistance, feel free to contact our support team.</p>
      <a href="mailto:support@flydreamair.com" class="contact-button"
        >Contact Support</a
      >
    </div>

    <!-- Scripts -->
    <script>
      document.getElementById("imageUpload").addEventListener(
        "change",
        function (event) {
          const file = event.target.files[0];
          const reader = new FileReader();

          reader.onloadend = function () {
            document.getElementById("profilePic").src = reader.result;
            document.getElementById("profilePic").style.display = "block";
            localStorage.setItem("profilePic", reader.result);
          };

          if (file) {
            reader.readAsDataURL(file);
          }
        },
        false
      );

      window.onload = function () {
        const savedPic = localStorage.getItem("profilePic");
        if (savedPic) {
          document.getElementById("profilePic").src = savedPic;
          document.getElementById("profilePic").style.display = "block";
        }

        const savedFeedback = localStorage.getItem("feedback");
        if (savedFeedback) {
          document.getElementById("feedbackBox").value = savedFeedback;
        }
      };

      function saveFeedback() {
        const feedback = document.getElementById("feedbackBox").value;
        if (feedback) {
          localStorage.setItem("feedback", feedback);
          document.getElementById("feedbackStatus").style.display = "block";
          setTimeout(() => {
            document.getElementById("feedbackStatus").style.display = "none";
          }, 3000); // Hide the thank you message after 3 seconds
        }
      }

      window.onload = function () {
        const userString = localStorage.getItem("user");
        if (userString) {
          const user = JSON.parse(userString);
          document.getElementById("welcomeMessage").textContent =
            "Welcome back, " + user.fullName + "!";
        }
      };

      function logout() {
    alert("You have been logged out! and cleared from this prototype");
    localStorage.removeItem('user'); 
    localStorage.removeItem('profilePic'); 
    localStorage.removeItem('feedback'); 
    window.location.href = '../index.html'; 
}

    </script>

    <!-- Bootstrap & jQuery JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  </body>
</html>
